{"ast":null,"code":"var _jsxFileName = \"/home/okiondo/phase-4/phase-3-project/src/components/post/Post.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./post.css\";\nimport React, { useState, useEffect } from \"react\";\nimport PostsContainer from \"../postsContainer\";\nimport NewPostsForm from \"../NewPostsForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Post() {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [formVisible, setVisibleForm] = useState(true);\n  const [favoriteVisible, setFavoriteVisible] = useState(true);\n  const postsToDisplay = posts.filter(posts => favoriteVisible || posts.isFavorite);\n  useEffect(() => {\n    fetch(\"http://localhost:9292\").then(res => res.json()).then(data => setPosts(data));\n  }, []);\n\n  function addingPosts(newPosts) {\n    setPosts([...posts, newPosts]);\n  }\n\n  function removingPosts(postsToRstsove) {\n    setPosts(posts.filter(posts => posts.id !== postsToRstsove.id));\n  }\n\n  function addingToFavorites(favPosts) {\n    setPosts(posts.map(posts => {\n      return posts.id === favPosts.id ? { ...favPosts,\n        isFavorite: !favPosts.isFavorite\n      } : posts;\n    }));\n  }\n\n  function postsViewRendering() {\n    if (postsToDisplay.length === 0 && !favoriteVisible) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You have no favorites added\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(PostsContainer, {\n        posts: postsToDisplay,\n        removePosts: removingPosts,\n        addToFavorites: addingToFavorites\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setVisibleForm(!formVisible),\n        children: \"Show/hide new posts form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), true ? /*#__PURE__*/_jsxDEV(Wr, {\n        addingPosts: addingPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFavoriteVisible(!favoriteVisible),\n        children: \"Show/hide Favorite posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), postsViewRendering()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"3LsUkUcnA+F09wSvjg958jslN8s=\");\n\n_c = Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useEffect","PostsContainer","NewPostsForm","Post","posts","setPosts","formVisible","setVisibleForm","favoriteVisible","setFavoriteVisible","postsToDisplay","filter","isFavorite","fetch","then","res","json","data","addingPosts","newPosts","removingPosts","postsToRstsove","id","addingToFavorites","favPosts","map","postsViewRendering","length"],"sources":["/home/okiondo/phase-4/phase-3-project/src/components/post/Post.jsx"],"sourcesContent":["\nimport \"./post.css\"\nimport React, {useState, useEffect} from \"react\";\nimport PostsContainer from \"../postsContainer\";\nimport NewPostsForm from \"../NewPostsForm\";\n\nexport default function Post() {\n  const [posts, setPosts] = useState([]);\n  const [formVisible, setVisibleForm] = useState(true);\n  const [favoriteVisible, setFavoriteVisible] = useState(true);\n  const postsToDisplay = posts.filter((posts) => favoriteVisible || posts.isFavorite);\n\n  useEffect(() => {\n    fetch(\"http://localhost:9292\")\n      .then(res => res.json())\n      .then(data => setPosts(data))\n  }, []);\n\n  function addingPosts(newPosts) {\n    setPosts([...posts, newPosts]);\n  }\n\n  function removingPosts(postsToRstsove) {\n    setPosts(posts.filter(posts => posts.id !== postsToRstsove.id))\n  }\n\n  function addingToFavorites(favPosts) {\n    setPosts(posts.map(posts => {\n      return posts.id === favPosts.id ? {...favPosts, isFavorite: !favPosts.isFavorite} : posts\n      }  \n    ))\n  }\n\n  function postsViewRendering() {\n    if (postsToDisplay.length === 0 && !favoriteVisible) {\n      return (<h1>You have no favorites added</h1>)\n    } else {\n      return (\n        <PostsContainer\n          posts={postsToDisplay} \n          removePosts={removingPosts} \n          addToFavorites={addingToFavorites}\n        />\n      )\n    }\n  }\n  return (\n    <div className=\"app\">\n      <div className=\"sidebar\">\n        <button onClick={()=> setVisibleForm(!formVisible)}>Show/hide new posts form</button>\n        {true ? <Wr addingPosts={addingPosts}/> : null}\n        <button onClick={()=> setFavoriteVisible(!favoriteVisible)} >Show/hide Favorite posts</button>      \n      </div>\n      {postsViewRendering()}\n    </div>\n  )\n}"],"mappings":";;;AACA,OAAO,YAAP;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;;AAEA,eAAe,SAASC,IAAT,GAAgB;EAAA;;EAC7B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,IAAD,CAA9C;EACA,MAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,IAAD,CAAtD;EACA,MAAMW,cAAc,GAAGN,KAAK,CAACO,MAAN,CAAcP,KAAD,IAAWI,eAAe,IAAIJ,KAAK,CAACQ,UAAjD,CAAvB;EAEAZ,SAAS,CAAC,MAAM;IACda,KAAK,CAAC,uBAAD,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAIZ,QAAQ,CAACY,IAAD,CAFxB;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,SAASC,WAAT,CAAqBC,QAArB,EAA+B;IAC7Bd,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWe,QAAX,CAAD,CAAR;EACD;;EAED,SAASC,aAAT,CAAuBC,cAAvB,EAAuC;IACrChB,QAAQ,CAACD,KAAK,CAACO,MAAN,CAAaP,KAAK,IAAIA,KAAK,CAACkB,EAAN,KAAaD,cAAc,CAACC,EAAlD,CAAD,CAAR;EACD;;EAED,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;IACnCnB,QAAQ,CAACD,KAAK,CAACqB,GAAN,CAAUrB,KAAK,IAAI;MAC1B,OAAOA,KAAK,CAACkB,EAAN,KAAaE,QAAQ,CAACF,EAAtB,GAA2B,EAAC,GAAGE,QAAJ;QAAcZ,UAAU,EAAE,CAACY,QAAQ,CAACZ;MAApC,CAA3B,GAA6ER,KAApF;IACC,CAFM,CAAD,CAAR;EAID;;EAED,SAASsB,kBAAT,GAA8B;IAC5B,IAAIhB,cAAc,CAACiB,MAAf,KAA0B,CAA1B,IAA+B,CAACnB,eAApC,EAAqD;MACnD,oBAAQ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAR;IACD,CAFD,MAEO;MACL,oBACE,QAAC,cAAD;QACE,KAAK,EAAEE,cADT;QAEE,WAAW,EAAEU,aAFf;QAGE,cAAc,EAAEG;MAHlB;QAAA;QAAA;QAAA;MAAA,QADF;IAOD;EACF;;EACD,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAK,SAAS,EAAC,SAAf;MAAA,wBACE;QAAQ,OAAO,EAAE,MAAKhB,cAAc,CAAC,CAACD,WAAF,CAApC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAEG,oBAAO,QAAC,EAAD;QAAI,WAAW,EAAEY;MAAjB;QAAA;QAAA;QAAA;MAAA,QAAP,GAAyC,IAF5C,eAGE;QAAQ,OAAO,EAAE,MAAKT,kBAAkB,CAAC,CAACD,eAAF,CAAxC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAMGkB,kBAAkB,EANrB;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD;;GAlDuBvB,I;;KAAAA,I"},"metadata":{},"sourceType":"module"}